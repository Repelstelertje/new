---
import fontsHref from "../styles/fonts.css?url";
import tailwindHref from "../styles/tailwind.css?url";
import { canonical as buildCanonical, robots as buildRobots } from "../lib/seo";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";

interface Props {
  title?: string; description?: string; path?: string; staging?: boolean; jsonLd?: any[];
}
const { title, description, path, staging = false, jsonLd = [] }: Props = Astro.props;
const canonical = buildCanonical(path);
const robotsContent = buildRobots(staging);
const currentYear = new Date().getFullYear();

const navItems = [
  { href: "/", label: "Home" },
  { href: "/dating-nederland/", label: "Overzicht NL" },
  { href: "/privacy/", label: "Privacy" },
  { href: "/cookies/", label: "Cookies" },
  { href: "/voorwaarden/", label: "Voorwaarden" },
  { href: "/partners/", label: "Partners" },
];
---
<!DOCTYPE html>
<html lang="nl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    {title && <title>{title}</title>}
    {description && <meta name="description" content={description} />}
    {canonical && <link rel="canonical" href={canonical} />}
    <meta name="robots" content={robotsContent} />
    <link rel="preconnect" href="https://16hl07csd16.nl" crossorigin />
    <link rel="preload" href="/fonts/Inter-Variable.woff2" as="font" type="font/woff2" crossorigin />
    <link rel="stylesheet" href={fontsHref} />
    <link rel="stylesheet" href={tailwindHref} />
    {jsonLd.map((schema) => <script type="application/ld+json">{JSON.stringify(schema)}</script>)}
    <script defer data-domain="oproepjesnederland.nl" src="https://plausible.io/js/script.js"></script>
  </head>
  <body class="flex min-h-screen flex-col bg-neutral-50 text-neutral-900">
    <Header title="OproepjesNederland" navItems={navItems} />
    <main id="main-content" class="mx-auto flex w-full max-w-5xl flex-1 flex-col gap-8 px-4 py-8">
      <slot />
    </main>
    <Footer
      links={navItems}
      disclaimer="Gebruik deze dienst verantwoord. 18+."
    />
  </body>
</html>
