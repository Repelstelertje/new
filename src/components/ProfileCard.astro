---
interface ProfileCardImage {
  src: string;
  alt: string;
  srcset?: string;
  sizes?: string;
}

const {
  id,
  name,
  age,
  province,
  img,
  deeplink,
  description,
} = Astro.props as {
  id: string | number;
  name: string;
  age: number;
  province: string;
  img: ProfileCardImage;
  deeplink: string;
  description?: string;
};
---
<article
  class="flex h-full flex-col overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm transition hover:border-sky-500 hover:shadow-lg"
  data-profile-id={id}
>
  <a
    href={deeplink}
    aria-label={`Bekijk profiel van ${name}`}
    rel="nofollow sponsored noopener"
    class="group relative block focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-600"
  >
    <picture class="block aspect-[4/3] overflow-hidden bg-slate-100">
      <img
        src={img.src}
        alt={img.alt}
        srcset={img.srcset}
        sizes={img.sizes}
        loading="lazy"
        decoding="async"
        class="h-full w-full object-cover transition duration-500 group-hover:scale-105"
      />
    </picture>
  </a>
  <div class="flex flex-1 flex-col gap-4 p-6 text-slate-900">
    <div>
      <h3 class="text-xl font-semibold text-slate-900">{name}</h3>
      <p class="text-sm text-slate-700">{age} jaar &middot; {province}</p>
    </div>
    {description && <p class="text-sm text-slate-700">{description}</p>}
    <div class="mt-auto">
      <a
        href={deeplink}
        aria-label={`Start gesprek met ${name}`}
        rel="nofollow sponsored noopener"
        class="inline-flex items-center justify-center rounded-full bg-sky-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-sky-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-400"
      >
        Profiel bekijken
      </a>
    </div>
  </div>
</article>
